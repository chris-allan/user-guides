---
layout: default
title: Fiji-OMERO Workflows
menu-id: l1-workflow2
description: How to use Fiji to connect to an OMERO server and run scripts against data on the server.
version:
    - yes
---

<div class="page-navigation">
<h2>Contents</h2>
<p>
<a href="#introduction">Introduction</a><br />
<a href="#manual">Manual workflow</a><br />
<a href="#script">Scriping workflow</a><br />
<a href="#resources">Other resources</a><br />
</p>

</div><!-- End Page Navigation -->

<h2><a class="anchor" id="introduction"></a>Introduction</h2>

<p>This is a step-by-step guide to the workflows used in OMERO training sessions and the videos produced to illustrate the basic Fiji-OMERO image analysis workflows. Links to the videos are in the <a href="#resources">Other resources</a> section at the bottom of the page.</p>

<p>Instructions on downloading and installing the OMERO.insight-ij plugin for Fiji and ImageJ are in the <a href="https://help.openmicroscopy.org/imagej.html" target="_blank" class="external-url">Using ImageJ with OMERO</a> section.

<h2><a class="anchor" id="manual"></a>Manual workflow</h2>

<ol>

<li><p class="first">Open the Fiji application.</p>

<p>Select&nbsp;&nbsp;&nbsp;<span class="bold">Plugins > OMERO > Connect to OMERO</span>.</p>

<p>A version of OMERO.insight will open and can be used as normal.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/imagejInsightLaunch.jpg" class="align-center" src="images/imagejInsightLaunch.jpg" style="width: 100%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<li><p class="first">As ImageJ needs to load the plugin software, it can take a minute or two for the OMERO login screen to appear, and then another minute for the progress bar to start moving and complete.</p>

<p>If you have not previously connected to OMERO, enter the server address.</p>

<p>Enter your OMERO <span class="bold">Username</span> and <span class="bold">Password</span>.</p>

<p>Click <span class="bold">Login</span>.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/imagejLogin.jpg" class="align-center" src="images/imagejLogin.jpg" style="width: 100%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<p class="top_link"><a href="#top"><img src="images/back_to_top.png" alt="Image for link to top of page" style="float: right;"/></a></p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<li><p class="first">In the OMERO.insight window, select the image you wish to work with.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiImage.jpg" class="align-center" src="images/workflowsFijiImage.jpg" style="width: 80%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<li><p class="first">Right-click on the image and select <span class="bold">View in ImageJ...</span>.</p>

<p>In the Bio-Formats Import Options dialog, click <span class="bold">OK</span>.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiView.jpg" class="align-center" src="images/workflowsFijiView.jpg" style="width: 100%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<p class="top_link"><a href="#top"><img src="images/back_to_top.png" alt="Image for link to top of page" style="float: right;"/></a></p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<li><p class="first">In Fiji, select&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold">Image > Adjust > Threshold</span>.</p>

<p>Click on the <span class="bold">Auto</span> button, which should bring up the default for the image.</p>

<p>If necessary use the sliders to adjust the threshold values to obtain the desired thresholding.</p>

<p>Select the <span class="bold">Dark Background</span> checkbox.</p>

<p>Click <span class="bold">Apply</span> and close the dialog.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiThreshold.jpg" class="align-center" src="images/workflowsFijiThreshold.jpg" style="width: 100%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>


<li><p class="first">Select&nbsp;&nbsp;&nbsp;&nbsp;<span class="bold">Analyze > Analyze Particles</span>.</p>

<p>In the Analyze Particles dialog, check the values are as shown below, ensuring the <span class="bold">Display Results</span>, <span class="bold">Clear Results</span> and <span class="bold">Add to Manager</span> checkboxes are selected.</p>

<p>Click <span class="bold">OK</span>.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiAnalyze.jpg" class="align-center" src="images/workflowsFijiAnalyze.jpg" style="width: 80%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<p class="top_link"><a href="#top"><img src="images/back_to_top.png" alt="Image for link to top of page" style="float: right;"/></a></p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<li><p class="first">The following dialogs should be visible:</p>

<ul>
<li>the image with ROIs highlighted</li>
<li>Results table</li>
<li>ROI Manager</li>
</ul>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiROIs.jpg" class="align-center" src="images/workflowsFijiROIs.jpg" style="width: 100%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<li><p class="first">In Fiji, select <span class="bold">Plugins > OMERO > Save Results to OMERO</span>.</p>

<p><span class="bold">Note:</span>&nbsp;&nbsp;&nbsp;If you are not logged into the OMERO server you will be prompted to log in.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiSave.jpg" class="align-center" src="images/workflowsFijiSave.jpg" style="width: 80%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<p class="top_link"><a href="#top"><img src="images/back_to_top.png" alt="Image for link to top of page" style="float: right;"/></a></p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<li><p class="first">In the <span class="bold">Save ImageJ Results</span> dialog select the <span class="bold">Image from Current Window</span> radio button.</p>

<p>Check the <span class="bold">ROI and Measurements</span> checkboxes.</p>

<p>Click <span class="bold">Save</span>.</p>

<p>Click <span class="bold">Yes</span> in the <span class="bold">Import Images</span> dialog.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiYes.jpg" class="align-center" src="images/workflowsFijiYes.jpg" style="width: 80%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<p class="top_link"><a href="#top"><img src="images/back_to_top.png" alt="Image for link to top of page" style="float: right;"/></a></p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<li><p class="first">In the <span class="bold">Import Location</span> dialog, select the <span class="bold">Project</span> and/or <span class="bold">Dataset</span> from the drop-downs to save the results to.</p>

<p>Click <span class="bold">Add to the Queue</span>.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiQueue.jpg" class="align-center" src="images/workflowsFijiQueue.jpg" style="width: 95%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<li><p class="first">Once the import is completed, the OMERO server takes a little time to generate the ROIs in OMERO form.</p>

<p>Once the ROI generation process is complete, select the imported image to show the ROIs attached.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiRHP.jpg" class="align-center" src="images/workflowsFijiRHP.jpg" style="width: 100%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

</ol><!-- End of list -->

<p class="top_link"><a href="#top"><img src="images/back_to_top.png" alt="Image for link to top of page" style="float: right;"/></a></p>

<div class="line-block">
  <div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<h2><a class="anchor" id="script"></a>Scripting workflow</h2>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<li><p class="first">Find the example scripts in:</p>

<p><a href="https://github.com/ome/training-scripts/tree/master/practical" target="_blank" class="external-url">https://github.com/ome/training-scripts/tree/master/practical</a></p>

</li>

</ol>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->
<h3>Editing scripts</h3>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<ol>

<li><p class="first">Open Fiji.</p>

<p>Use <span class="bold">File &#62; New &#62; Script...</span>. Copy the content of the script you want to adjust into the window. Use <span class="bold">Language &#62; Groovy or Python</span> to select the appropriate language for the script.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiScript.jpg" class="align-center" src="images/workflowsFijiScript.jpg" style="width: 100%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<p class="top_link"><a href="#top"><img src="images/back_to_top.png" alt="Image for link to top of page" style="float: right;"/></a></p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<li><p class="first">Edit the "OMERO server details" and "parameters to edit" secitons of the script.</p>
</li>



<p class="top_link"><a href="#top"><img src="images/back_to_top.png" alt="Image for link to top of page" style="float: right;"/></a></p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<li><p class="first">Click the <span class="bold">Run</span> button to run the script.</p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<img alt="../images/workflowsFijiRun.jpg" class="align-center" src="images/workflowsFijiRun.jpg" style="width: 100%;" />

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

</li>

<li><p class="first">Once the script is completed, use OMERO to check the processed images.
</li>

</ol><!-- End of list -->

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<h2><a class="anchor" id="resources"></a>Other resources</h2>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<h3>Videos of these workflows:</h3>

<p><a href="https://downloads.openmicroscopy.org/movies/omero-5-2/mov/fiji_omero_manual_workflow.mov" target="_blank" class="external-url">fiji_omero_manual_workflow.mov</a></p>


<p><a href="https://downloads.openmicroscopy.org/movies/omero-5-2/mov/fiji_scripting_demo.mov" target="_blank" class="external-url">fiji_scripting_demo.mov</a></p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<h3>FIJI scripting tutorials:</h3>

<p><a href="https://imagej.net/Jython_Scripting" target="_blank" class="external-url">https://imagej.net/Jython_Scripting</a></p>

<p><a href="https://www.ini.uzh.ch/%7Eacardona/fiji-tutorial/" target="_blank" class="external-url">https://www.ini.uzh.ch/&#126;cardona/fiji-tutorial/</a></p>

<p class="top_link"><a href="#top"><img src="images/back_to_top.png" alt="Image for link to top of page" style="float: right;"/></a></p>

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<div class="line-block">
<div class="line"><br /></div> <!-- end #line -->
</div> <!-- end #line-block -->

<div class="page-end">
	<p>All Tutorial Material is available on line at: <a href="https://help.openmicroscopy.org">help.openmicroscopy.org</a></p>
	<p>The Main OME website is at: <a href="https://www.openmicroscopy.org">www.openmicroscopy.org</a></p>
</div> <!-- end page-end -->
